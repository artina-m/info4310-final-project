<!DOCTYPE html>
<style>

.axis .domain {
  display: none;
}

</style>
<svg width="960" height="960"></svg>
<script src="https://d3js.org/d3.v4.min.js"></script>

<script>

var dataset;

var svg = d3.select("svg"),
    margin = {top: 20, right: 20, bottom: 30, left: 40},
    width = +svg.attr("width") - margin.left - margin.right,
    height = +svg.attr("height") - margin.top - margin.bottom,
    g = svg.append("g").attr("transform", "translate(" + margin.left + "," + margin.top + ")");

var y = d3.scaleBand()
  .rangeRound([0, height])
  .paddingInner(0.05)
  .align(0.1);

var x = d3.scaleLinear()
  .rangeRound([0, width]);

var z = d3.scaleOrdinal()
  .range(["#98abc5", "#8a89a6", "#7b6888", "#6b486b", "#a05d56", "#d0743c", "#ff8c00"]);

d3.csv("use.csv", function(error, data) {
  dataset = data;

  let keys = dataset.columns.slice(1);
  console.log(keys)

  y.domain(dataset.map(function(d) { return d.Country; }));
  x.domain([0, 1]).nice();
  z.domain(keys)

  g.append("g")
    .selectAll("g")
    .data(d3.stack().keys(keys)(dataset))
})

</script>

<html>

<head>
  <title>INFO 4310 Final Project</title>
  <link rel="stylesheet" type="text/css" href="style.css">

  <script src="https://d3js.org/d3.v4.min.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
  <script src="fisheye.js"></script>
  <script src="helpers.js"></script>
  <script src="plots.js"></script>
</head>

<body>
  <div id="overlay">
    <p class="overlayTitle">Do you know what's in space?</p>
    <p class="overlayDesc">Explore every active satellite orbiting Earth</p>
    <p style="opacity:0.8; font-family:Roboto; font-size:14;">CLICK TO BEGIN</p>

    <div class="stars"></div>
    <div class="twinkling"></div>

  </div>
  <div class="spaceView1" id="spaceView1">

    <div class="sideBar" id="side">

      <p class="sectionTitle" id="textBar1"> STUFF IN SPACE </p>
      <p class="sectionDesc" id="textBar2">
        Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.
        Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis
        aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur.
      </p>

      <br>
      <!-- Add buttons -->
      <div style="align-content: center;text-align:center; width: 100%">
        <button onclick='filterByType2("Commercial")' class="useButton" id="comB">Commercial</button>
        <button onclick='filterByType2("Government")' class="useButton" id="govB">Government</button>
        <button onclick='filterByType2("Military")' class="useButton" id="milB">Military</button>
        <button onclick='filterByType2("Civil")' class="useButton" id="civB">Civil</button>
      </div>
      <br>




      <br>
      <p style="color:white"> Convert these buttons into scrollable functions</p>

      <button onclick="start()">Start</button>

      <button onclick='callUseCase()'>Satellite Types</button>

      <button onclick='callCountry()'>Force Layout</button>
      <button onclick='callNextSection()'>Next Section</button>



    </div>
    <!-- end of sidBar div -->

    <div class="rightHand">
      <div class="visualization"></div>
    </div>

  </div>
  <!-- end of spaceView1 div -->

  <!-- <div class="testViewPort"></div> -->

  <div class="useByCountryView">
    <p class="useDesc">Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.
      Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute
      irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur.</p>
    <p class="useDesc">Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.
      Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute
      irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur.</p>
    <div class="useViz">

    </div>
    <div class="useVizBody">
      <p class="useTitle">SATELLITE USE CASE BY COUNTRY</p>
      <p class="useDesc">Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna
        aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.
        Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur.</p>
    </div>


  </div>
  <!-- end of useByCountryView div -->


</body>


<script>
  let satData, flatData, dataByCountry, countryCoords;
  let colorTheme = "#010305"

  // Center orbits
  const centerX = 450;
  const centerY = 400;

  // Radius for orbit levels
  const leo = 100;
  const meo = 260;
  const geo = 320;
  const alignX = 920;

  //let spaceSVG; // declare variable for svg for orbits/satelltes
  // let cartogramSVG; // declare variable for plotting cartogram svg.

  const rscale = d3.scaleLinear()
    .domain([1, 6651])
    .range([1.5, 20])


  // Load data
  function parseLine(line) {
    // Return only the columns we are interested in
    // Subject to revision!

    // Create new Date object so dates are not distorted
    let split_date = line["Date of Launch"].split("/");
    let year;
    if (split_date[2] < 20) {
      year = '20' + split_date[2];
    } else {
      year = '19' + split_date[2];
    }
    let temp_date = new Date(year, split_date[0], split_date[1]);

    return {
      satName: line["Name of Satellite, Alternate Names"],
      launchDate: temp_date,
      year: Number(year),
      month: Number(split_date[0]),
      day: Number(split_date[1]),
      country: line["Country of Operator/Owner"],
      users: line["Users"],
      purpose: line["Purpose"],
      detailedPurpose: line["Detailed Purpose"],
      orbitClass: line["Class of Orbit"],
      orbitType: line["Type of Orbit"],
      expectedLifetime: line["Expected Lifetime"],
      launchMass: parseFloat(line["Launch Mass (kg.)"].replace('"', ''))
    }

  }

  function parseCoords(line) {
    return {
      name: String(line.name),
      lat: +line.latitude,
      lng: +line.longitude
    }
  }


  plot_orbits("visualization");


  overlay();



</script>

<!-- References -->
<!-- Data:  https://www.ucsusa.org/nuclear-weapons/space-weapons/satellite-database#.WqwEapPwZE4 -->

</html>
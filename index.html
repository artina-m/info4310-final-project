<html>

<head>
  <title>INFO 4310 Final Project</title>
  <link rel="stylesheet" type="text/css" href="style.css">

  <script src="https://d3js.org/d3.v4.min.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
  <!-- <script src="fisheye.js"></script> -->
  <script src="helpers.js"></script>
  <script src="plots.js"></script>
</head>

<body>
  <div id="overlay">
    <p class="overlayTitle">Do you know what's in space?</p>
    <p class="overlayDesc">Explore every active satellite orbiting Earth</p>
    <p style="opacity:0.8; font-family:Roboto; font-size:14;">CLICK TO BEGIN</p>

    <div class="stars"></div>
    <div class="twinkling"></div>

  </div>
  <div class="spaceView1" id="spaceView1">

    <div class="sideBar" id="side">

      <p class="sectionTitle" id="textBar1"> STUFF IN SPACE </p>
      <p class="sectionDesc" id="textBar2">
        Ever since the launch of Sputnik 1 in 1957 mankind has been launching satellites into space. Since that date an estimated 6,000 satellites have been launched by over 40 different countries with 1,738 satellites currently in use today. Satellites are used by various organizations in military, commercial, government, and civil use.
      </p>
        
        <br>
        <!-- Image only shows on launch view, remains hidden otherwise -->
        <img class = "orbitImg" src = "orbitLevels.png" width = 300px;></img>

      <br>
      <!-- Buttons are initially hidden until use and country view is prompted -->
      <div style="align-content: center;text-align:center; width: 100%">
        <button onclick='filterByType2("Commercial"); comsat();' class="useButton" id="comB">Commercial</button>
        <button onclick='filterByType2("Government"); govsat();' class="useButton" id="govB">Government</button>
        <button onclick='filterByType2("Military"); milsat();' class="useButton" id="milB">Military</button>
        <button onclick='filterByType2("Civil"); civilsat();' class="useButton" id="civB">Civil</button>
      </div>
      <br>

      
      <a href="#" class="previous round" id = "navButton1" onclick = "start()">&#8249;</a>
      <a href="#" class="next round" id = "navButton2" onclick = "callUseCase()" >&#8250;</a>

        
    </div>
    <!-- end of sidBar div -->

    <div class="rightHand">
      <div class="visualization"></div>
      <div class = "rightDiv">
          <div class = "satInfo" id = "overview">
            <p id = "total"></p>
            <p id = "totalCat"></p>
          </div>
          <div class = "chart"></div>
          <div id = "selectedSat"></div>
          
          <button class="useNextButton" onclick='callNextSection()'><p>NEXT</p><img class="useCaseNext" src="assets/white-arrow.png" alt="next section" /></button>
      </div>
    </div>



  </div>
  <!-- end of spaceView1 div -->

  <!-- <div class="testViewPort"></div> -->

  <div class="useByCountryView">
    <button class="usePrevButton" onclick='callFirstSection()'><p>BACK</p><img class="useCaseNext" src="assets/white-up-arrow.png" alt="next section" /></button>


    <div class="useViz"></div>

    <div class="useVizBody">
      <p class="useTitle">SATELLITE USE CASE BY COUNTRY</p>
      <p class="useDesc2">Currently over 40 countries have built and launched satellites. This is a vast increase of the last couple of decades. For example, in 1966 only The United States, The USSR, France, The United Kingdom, Canada, and Italy had satellites. Now more and more countries are enjoying the benefits of satellites! Currently the United States leads the way with 803 operating satellites, with Russia and China following behind. As you can see from the graphs each country uses their satellites for a wide variety of purposes and do not have the same makeup of types of satellites.</p>
    </div>
    <div>
      <p class="useDesc">
        Military Satellites: Most military satellites are used for the purpose of intelligence gathering, navigation, or military communication. Early attempts were made at weaponizing satellites but this work was halted in 1967 due to an international treaty banning weapons of mass destruction being deployed in orbit. Modern GPS systems were born out of the use of military satellites.
      </p>
      <p class="useDesc">
        Civil Satellites: Civil satellites are satellites categorized as for use in academic or amateur nature. Most of these satellites are owned and used by universities all around the world. There are currently 128 civil satellites in orbit currently. Another one will be launched on May 11, 2018 courtesy of the University of Nairobi in Kenya.
      </p>
      <p class="useDesc">
        Commercial Satellites: Commercial satellites are satellites used in a variety of ways. They are normally used for satellite navigation, satellite television, and satellite imagery with a potential for space tourism in the near future. The first ever commercial satellite launched was Telstar-1 in 1962, which was used to transmit television signal over the Atlantic Ocean.
      </p>
    </div>

    <div class="smallMultiples"></div>


  </div>
  <!-- end of useByCountryView div -->

  <div class="infoGraph">
    <div class="intro">
      <div class="igLeftPic"></div>
      <div class="igRightText"></div>
    </div>

    <div class="intSpace">
        <div class="igLeftPic"></div>
        <div class="igRightText"></div>
    </div>

    <div class="hubble">
        <div class="igLeftPic"></div>
        <div class="igRightText"></div>
    </div>

    <div class="landsat">
        <div class="igLeftPic"></div>
        <div class="igRightText"></div>
    </div>

    <div class="galaxy">
        <div class="igLeftPic"></div>
        <div class="igRightText"></div>
    </div>

  </div>


</body>


<script>
  let satData, flatData, dataByCountry, countryCoords;
  let colorTheme = "#010305"
  // declare wiper so it can be referenced in functions
  let wiper;

  // Center orbits
  const centerX = 400;
  const centerY = 400;

  // Radius for orbit levels
  const leo = 80;
  const meo = 220;
  const geo = 280;
  const alignX = 920;

  // SVG dimensions
  const width = 800;
  const height = 800;

  //let spaceSVG; // declare variable for svg for orbits/satelltes
  // let cartogramSVG; // declare variable for plotting cartogram svg.

  const rscale = d3.scaleLinear()
    .domain([1, 6651])
    .range([1.5, 20])


  // Load data
  function parseLine(line) {
    // Return only the columns we are interested in
    // Subject to revision!

    // Create new Date object so dates are not distorted
    let split_date = line["Date of Launch"].split("/");
    let year;
    if (split_date[2] < 20) {
      year = '20' + split_date[2];
    } else {
      year = '19' + split_date[2];
    }
    let temp_date = new Date(year, split_date[0], split_date[1]);

    return {
      satName: line["Name of Satellite, Alternate Names"],
      launchDate: temp_date,
      year: Number(year),
      month: Number(split_date[0]),
      day: Number(split_date[1]),
      country: line["Country of Operator/Owner"],
      users: line["Users"],
      purpose: line["Purpose"],
      detailedPurpose: line["Detailed Purpose"],
      orbitClass: line["Class of Orbit"],
      orbitType: line["Type of Orbit"],
      expectedLifetime: line["Expected Lifetime"],
      launchMass: parseFloat(line["Launch Mass (kg.)"].replace('"', ''))
    }

  }

  function parseCoords(line) {
    return {
      name: String(line.name),
      lat: +line.latitude,
      lng: +line.longitude
    }
  }


  plot_orbits("visualization");

  overlay();


  //alternate descriptions upon clicking

  function comsat(){
    document.getElementById("textBar2").innerHTML = "Commercial satellites are satellites used in a variety of ways. They are normally used for satellite navigation, satellite television, and satellite imagery with a potential for space tourism in the near future. The first ever commercial satellite launched was Telstar-1 in 1962, which was used to transmit television signal over the Atlantic Ocean.";
  }
  function govsat(){
    document.getElementById("textBar2").innerHTML = "Government Satellites are typically used in meteorological or within research settings. Meteorological satellites can be used to see clouds/cloud systems, city lights, fires, effects of pollution, sand/dust storms, ice mapping, ocean currents, and sea level. Research satellites can be used for a very broad range of topics but are normally used for studying the atmosphere.";
  }

  function milsat(){
    document.getElementById("textBar2").innerHTML = "Most military satellites are used for the purpose of intelligence gathering, navigation, or military communication. Early attempts were made at weaponizing satellites but this work was halted in 1967 due to an international treaty banning weapons of mass destruction being deployed in orbit. Modern GPS systems were born out of the use of military satellites.";
  }

  function civilsat(){
    document.getElementById("textBar2").innerHTML = "Civil satellites are satellites categorized as for use in academic or amateur nature. Most of these satellites are owned and used by universities all around the world. There are currently 155 civil satellites in orbit currently. Another one will be launched on May 11, 2018 courtesy of the University of Nairobi in Kenya.";
  }
  function introtext(){
    document.getElementById("textBar2").innerHTML = "Ever since the launch of Sputnik 1 in 1957 mankind has been launching satellites into space. Since that date an estimated 6,000 satellites have been launched by over 40 different countries with 1,738 satellites currently in use today. Satellites are used by various organizations in military, commercial, government, and civil use."
  }


</script>

<!-- References -->
<!-- Data:  https://www.ucsusa.org/nuclear-weapons/space-weapons/satellite-database#.WqwEapPwZE4 -->

</html>
